# kcell_tasks

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

1. –ö–ª–æ–Ω–∏—Ä—É–π –∏–ª–∏ —Ä–∞—Å–ø–∞–∫—É–π –ø—Ä–æ–µ–∫—Ç:

```bash
git clone <[repo-url](https://github.com/justkurama/kcell_tasks)>
```
2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```sh
$ python -m venv venv
$ source venv/bin/activate  # –í Windows –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `venv\Scripts\activate`
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
pip install -r requirements.txt
```

## Task 1: Facebook Registration Bot (Intern Task)

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ Python, –∫–æ—Ç–æ—Ä—ã–π:

* –ü—ã—Ç–∞–µ—Ç—Å—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ [facebook.com](https://facebook.com)
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Selenium + webdriver-manager** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–æ–º
* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö **PostgreSQL**

---

## –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### –ü–æ—á–µ–º—É **Selenium**?

* –°–∞–π—Ç Facebook –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JavaScript.
* `requests + BeautifulSoup` –Ω–µ —Å–ø—Ä–∞–≤—è—Ç—Å—è —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ñ–æ—Ä–º, —Ç.–∫. –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç JS.
* **Selenium** –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º, –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫: –∫–ª–∏–∫–∞—Ç—å, –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç, –Ω–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫–∏.
* –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `webdriver-manager`, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞—Ç—å –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é ChromeDriver.

---

**requirements.txt:**

```
selenium
webdriver-manager
psycopg2-binary
```

---

## –ù–∞—Å—Ç—Ä–æ–π PostgreSQL

1. –°–æ–∑–¥–∞–π –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω–µ—Ç):

```sql
CREATE DATABASE your_db; (–≤ –º–æ–µ–º —Å–ª—É—á–∞–µ –±—ã–ª–∞ dbname="kcell_db", user="postgres", password="kurama_0723", host="localhost", port="5432")
```

2. –£–∫–∞–∂–∏ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Å–∫—Ä–∏–ø—Ç–µ `1.py`:

```python
psycopg2.connect(
    dbname="your_db", user="your_user", password="your_password", host="localhost", port="5432"
)
```

---

## –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞

```bash
python facebook_register_bot.py
```

–ë—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è, –∑–∞–ø–æ–ª–Ω–∏—Ç —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∑–∞–ø–æ–ª–Ω–∏—Ç –≤—Å–µ –ø–æ–ª—è –∏ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å.

---

## üíæ –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î?

–¢–∞–±–ª–∏—Ü–∞ `registration_results` —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```sql
CREATE TABLE registration_results (
    id SERIAL PRIMARY KEY,
    status TEXT,
    details TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:

| id | status  | details                       | created\_at         |
| -- | ------- | ----------------------------- | ------------------- |
| 1  | success | –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. | 2025-06-11 12:12:11.540204 |
| 2  | error   | Element not found error...    | 2025-06-11 12:14:28.838498 |


## Task 2: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º–∏ –≤ PostgreSQL

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã

–¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞ `setup_incidents.sql` –¥–ª—è c–æp–¥–∞–Ω–∏–µ —Å–∞–º–æ–≥–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª Datagrip –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å sql 

### –®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
python seed_incidents.py
```

–ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏ –∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏.

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Å–æ–∑–¥–∞–ª –≤  `update_old_incidents.sql`.

### –®–∞–≥ 4: –¢–µ—Å—Ç –≤—ã–∑–æ–≤–∞ –≤—Ä—É—á–Ω—É—é

```sql
CALL update_old_incidents();
```

–≠—Ç–æ –ø—Ä–æ–ø–∏—Å–∞–Ω–æ –≤ `update_old_incidents.sql` –∏ —Ç–∞–º –∂–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ò–ª–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç(–Ω–∞–¥–æ –∑–∞–∫–æ–º–µ–Ω—Ç–∏—Ç—å –ø–∞—Ä—É —Å—Ç—Ä–æ–∫ –≤ `update_old_incidents.sql`):

```bash
python run_procedure.py
```

### –®–∞–≥ 5: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ .bat + –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

pg_cron —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ PostgreSQL, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º —á–µ—Ä–µ–∑ Linux –∏–ª–∏ Docker, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ shared_preload_libraries. –ù–∞ Windows –æ–Ω –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. –ü–æ—ç—Ç–æ–º—É —è –≤–æ–∑—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Ñ–∞–π–ª –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –∑–∞–¥–∞—á –∏ `run_update_procedure.bat`:

```bat
@echo off
set PYTHON_PATH=C:\Users\User\AppData\Local\Programs\Python\Python313\python.exe
set SCRIPT_PATH=C:\Users\User\Desktop\kcell_tasks\task2\run_procedure.py

"%PYTHON_PATH%" "%SCRIPT_PATH%"
pause
```

–î–æ–±–∞–≤—å –∑–∞–¥–∞—á—É –≤ "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á Windows", —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å `.bat` —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏.

---

## Task 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑ API

–°–∫—Ä–∏–ø—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ [OpenWeatherMap API](https://openweathermap.org/current), –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥–µ –ê–ª–º–∞—Ç—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö.

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π URL:

```http
http://api.openweathermap.org/data/2.5/weather?id=1526384&appid=API_KEY&units=metric&lang=ru
```

* `id=1526384` ‚Äî ID –≥–æ—Ä–æ–¥–∞ –ê–ª–º–∞—Ç—ã
* `units=metric` ‚Äî —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ ¬∞C
* `lang=ru` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º

### –°–∫—Ä–∏–ø—Ç `weather_current.py`

### –ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è:

* `weather_result.txt` ‚Äî —Ç–µ–∫—Å—Ç–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ–≥–æ–¥—ã
* `weather_log.txt` ‚Äî –ª–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π –∏ –æ—à–∏–±–æ–∫



## Task 4: Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º–∏

Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω–æ–µ –∫ –±–∞–∑–µ PostgreSQL, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã, –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∏ –æ—Ç–º–µ—á–∞—Ç—å –∫–∞–∫ "—Ä–µ—à—ë–Ω–Ω—ã–µ" –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.


### –°—Ç–∞—Ä—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
incident_app/
‚îú‚îÄ‚îÄ app.py
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îî‚îÄ‚îÄ script.js
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

```python
app.config['SQLALCHEMY_DATABASE_URI'] = 'postgresql://postgres:your_password@localhost/incident_db'
```

### –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
psql -U postgres -c "CREATE DATABASE incident_db;"
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ Flask

```bash
python
>>> from app import db, app
>>> with app.app_context():
...     db.create_all()
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python app.py
```

–ü–µ—Ä–µ–π–¥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞: [http://localhost:5000](http://localhost:5000)

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

* üìã –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
* ‚ûï —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É
* ‚úÖ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ AJAX (–±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

---

## Task 5: –¢–µ–æ—Ä–∏—è (SQL –∏ Python)

### Python:
1. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è list –∏ tuple?
    * –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö tuple –Ω–µ –∏–∑–º–µ–Ω—è–µ–º—ã–π. –ü—Ä–∏–º–µ—Ä: color = (00, 00, 00) 
2. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è with open()?
    * –í Python –æ–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –¥–ª—è —á—Ç–µ–Ω–∏–µ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç. –¥. –û–Ω–æ —Å–∞–º–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Ñ–∞–π–ª.
3. –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è try/except?
   –í –±–ª–æ–∫–µ try –ø–∏—à–µ–º—å –∫–æ–¥ –≤ –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ/–æ—à–∏–±–∫–∞, –∞ –≤ –±–ª–æ–∫–µ except –∫–æ–¥ –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
4. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Selenium –∏ requests?
    * `requests + BeautifulSoup` –Ω–µ —Å–ø—Ä–∞–≤—è—Ç—Å—è —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ñ–æ—Ä–º, —Ç.–∫. –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç JS.
    * **Selenium** –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º, –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫: –∫–ª–∏–∫–∞—Ç—å, –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç, –Ω–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫–∏.
---

## üìå –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

* [Selenium](https://www.selenium.dev/)
* [webdriver-manager](https://github.com/SergeyPirogov/webdriver_manager)
* [PostgreSQL](https://www.postgresql.org/)
* [psycopg2](https://www.psycopg.org/)
* [Openweathermap API Documentation](https://openweathermap.org/api/one-call-api#data)

---
